<!DOCTYPE html>
<html>
<head>
	<title></title>
</head>
<body>
	<script type="text/javascript">

		//fetch devuelve un obj response (promesa)
		/*
		let frm=new FormData();

		let usuario={
			user:"Alexander",
			permisos:"Manager",
			key:"casa"
		}

		let opciones={

			method:"POST",
			body:frm

			//body:"correo=usuario@servidor.com&clave=12354"
			//body:`user=${usuario.user}&key=${usuario.key}`

		};
*/
/*
		fetch("https://jsonplaceholder.typicode.com/posts")
			
			.then(	(respuesta)=>respuesta.json())
				.then(obj=>{
					
					console.log(obj[50]);
					return fetch("https://jsonplaceholder.typicode.com/users/"+obj[50].userId);

				}).then(resp=>resp.json())
				.then(res=>console.log(res.name))

			.catch();
*/
			/***/
			/*

				PROCESO ASINCRONO

				promesa();
				ok();
				mal();


			*/
			/**/

			/*****************************ASYNC AWAIT*********************************/
			/**********PROGRAMACION ASINCRONA COMO SI FUERA SINCRONA*******************/

			async function request(idPost){//funcion asincrona

				try{

					let promesa=await fetch("https://jsonplaceholder.typicode.com/posts");

					let obj=await promesa.json();

					console.log("Publicaci√≥n: ",obj[idPost].body);
					let idUser=obj[idPost].userId;

					let promesaUsuario=await fetch(`https://jsonplaceholder.typicode.com/users/${idUser}`);

					let result=await promesaUsuario.json();
					
					console.log("Autor: ",result.name);

				}catch(error)
				{
					console.error(error);
				}

			}

		//	request(10);

			async function publicaciones(idPub){
				
				let promesa=await fetch("https://jsonplaceholder.typicode.com/posts");
				let [{userId,body}] =await promesa.json();

				//let {userId, body}=a;

				console.log(userId);

				//desestructuracion de objetos

			}

			publicaciones(0);


	</script>
</body>
</html>